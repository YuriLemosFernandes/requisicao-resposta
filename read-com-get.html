<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interação com APIs | Read com GET</title>
    <link rel="stylesheet" href="./assets/styles/style.css">
    <link rel="stylesheet" href="./assets/styles/style-botao.css">
</head>

<body>
    <header>
        <a href="./">Home</a>
        <h1>Read com GET</h1>
    </header>

    <button type="button" id="btnFetch">Fetch (buscar)</button>
    <div id="listaProdutos"></div>

    <div>
        <input type="checkbox" class="checkbox" id="chk" />
        <label class="label" for="chk">
            <i class="fas fa-sun"></i>
            <i class="fas fa-moon"></i>
            <div class="ball"></div>
        </label>
    </div>

    <script src="./assets/scripts/script.js"></script>

    <script src="./assets/scripts/style-pg.js"></script>

    <script>
        document.querySelector('#btnFetch').addEventListener('click', () => {
            getProdutos();
        });
    </script>

    <script>

        const tema = localStorage.getItem('tema') ?? 'light';

        document.documentElement.setAttribute('data-theme', tema);

        const btsComponentes = document.querySelectorAll('#chk');

        btsComponentes.forEach(elRaiz => {
            elRaiz.classList.add(tema);
        })

        document.querySelector('#chk').addEventListener('click', () => {

            btsComponentes.forEach(elRaiz => {

                if (elRaiz.classList.contains('light')) {

                    elRaiz.classList.replace('light', 'dark');

                    localStorage.setItem('tema', 'dark');

                    document.documentElement.setAttribute('data-theme', 'dark');

                } else {

                    elRaiz.classList.replace('dark', 'light');

                    localStorage.setItem('tema', 'light');

                    document.documentElement.setAttribute('data-theme', 'light')
                }

            })


        });

    </script>
</body>

</html>